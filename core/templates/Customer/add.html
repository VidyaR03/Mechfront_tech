{% extends 'dashboard/base_template.html' %}
{% block title %}
crm
{% endblock %}

{% block custom_css %}

<style>
   /* Inactive tab styles */
   .nav-tabs.nav-tabs-bottom .nav-item .nav-link {
      color: #ccc;
      /* Faint gray color for inactive tabs */
   }

   /* Active tab style */
   .nav-tabs.nav-tabs-bottom .nav-item .nav-link.active {
      color: #000;
      /* Black color for active tab */
   }
</style>
<style>
   /* Add any desired styles for error messages */
   .error-message {
      color: red;
      font-size: 12px;
   }
</style>
{% endblock custom_css %}

{% block main_content %}


<div class="page-wrapper" style="padding-top:0px;">
   <div class="content container-fluid">
      <div class="page-header">
         <div class="row">
            <div class="col-sm-12">
               {% if messages %}
               {% for message in messages %}
               <h4 class="alert-warning">{{ message }}</h4>
               {% endfor %}
           
               {% endif %}
               <h3 class="page-title"> <a href="{% url 'fn_customer_List_View' %}" style="margin-right: 10px;">
                  <i class="fa fa-arrow-left" data-bs-toggle="tooltip" title="" data-bs-original-title="Back"
                        aria-label="fa fa-arrow-left"></i></a>Add Customer</h3>
            </div>
         </div>
      </div>
      <form method="POST" enctype="multipart/form-data">
         {% csrf_token %}
         <div class="row">
            <div class="col-md-12">
               <div class="card">
                     <div class="row" style="padding-top: 5px;">
                        <div class="col-lg-6">
                           <div class="card-body">

                              <div class="form-group row">
                                 <label class="col-lg-3 col-form-label">Select Lead:<span
                                    style="color: red;">*</span></label>
                                 <div class="col-lg-9">
                                     <select class="form-control" id="lead_select" name="lead_id" onchange="populateCustomerFields();" required>
                                       <option value="" disabled selected hidden>--Select--</option>
                                         {% for lead in leads %}
                                             <option value="{{ lead.id }}"
                                              data-service_type="{{ lead.leads_ser_type }}" 
                                              data-company="{{ lead.company_name }}" 
                                              data-contact="{{ lead.contact_person }}" 
                                              data-email="{{ lead.email }}" 
                                              data-website="{{ lead.website}}"
                                              data-mobile="{{ lead.contact_number }}"
                                              data-gst ="{{lead.gst_no}}"
                                              >
                                                 {{ lead.company_name }} ({{ lead.contact_person }})
                                             </option>
                                         {% endfor %}
                                     </select>
                                 </div>
                             </div>

                              <div class="form-group row">
                                 <label class="col-lg-3 col-form-label">Contact Person:<span
                                       style="color: red;">*</span></label>
                                 <div class="col-lg-9">
                                    <div class="row">
                                       <div class="col-lg-3">
                                          <select class="form-control" id="primary_contact" name="gender" required>
                                             <option value="" disabled hidden>--Select--</option>
                                             <option value="Mr" selected>Mr.</option>
                                             <option value="Mrs">Mrs.</option>
                                             <option value="Ms">Ms.</option>
                                             <option value="Miss">Miss.</option>
                                             <option value="Dr">Dr.</option>
                                          </select>
                                       </div>
                                       <!-- <div class="col-lg-9">
                                                   <input type="text" class="form-control" id="first_name" placeholder="Customer Name" name="customer">
                                                </div> -->
                                       <div class="col-lg-9">
                                          <input type="text" class="form-control" placeholder="Customer Name"
                                             name="customer" id="contact_person">
                                       </div>



                                    </div>
                                 </div>
                              </div>
                              <div class="form-group row">
                                 <label class="col-lg-3 col-form-label">Company Name:<span
                                       style="color: red;">*</span></label>
                                 <div class="col-lg-9">
                                    <input type="text" class="form-control" name="company_name" id="first_name"
                                       placeholder="Company Name" required>
                                 </div>
                              </div>
                              <div class="form-group row">
                                 <label class="col-lg-3 col-form-label">Display Name :<span
                                       style="color: red;">*</span></label>
                                 <div class="col-lg-9">
                                    <!-- Input box for Display Name -->
                                    <input type="text" name="display_name" class="form-control" id="display_name_input"
                                       readonly required>
                                 </div>
                              </div>
                              <!-- <div class="form-group row">
                                        <label class="col-lg-3 col-form-label">Display Name :<span style="color: red;">*</span></label>
                                        <div class="col-lg-9">
                                        </div>
                                      </div> -->


                                      <div class="form-group row">
                                       <label class="col-lg-3 col-form-label">Email Address:<span
                                          style="color: red;">*</span></label>
                                       <div class="col-lg-9">
                                          <input type="text" class="form-control" name="cust_email" id="id_email"  onchange="validateEmail(this);" placeholder="Email Address" required>

                                          <!-- <input type="email" class="form-control" name="cust_email" id="id_email" placeholder="Enter email"> -->
                                          <!-- <span id="email-error-message" style="color: red; display: none;">Invalid email address.</span> -->
                                          <span id="email-error-message" style="color: red; display: none;">Invalid email address.</span>

                                       </div>
                                    </div>
                                   
                        
                              <div class="form-group row">
                                 <label class="col-lg-3 col-form-label">Phone:<span style="color: red;">*</span></label>
                                 <div class="col-lg-9">
                                    <div class="row">
                                       <div class="col-lg-6">
                                          <input type="text" class="form-control" name="phone" id="phone"
                                             placeholder="Phone" pattern="\d{10}" title="Enter a 10-digit number">
                                          <span id="phoneError" style="color: red;"></span>

                                       </div>
                                       <div class="col-lg-6">
                                          <input type="text" class="form-control" name="mobile" id="mob_no"
                                             placeholder="Mobile"  pattern="\d{10}"
                                             title="Enter a 10-digit number">
                                          <span id="mobileError" style="color: red;"></span>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <div class="form-group row">
                                 <label class="col-lg-3 col-form-label">Website</label>
                                 <div class="col-lg-9">
                                    <input type="text" class="form-control" name="website" id="website"
                                       placeholder="Website">
                                 </div>
                              </div>

         

                              <div class="col-md-3">
                                 <div class="form-group">
                                     <label for="timestamp" style="display: none;">Date</label>
                                     <input type="text" class="form-control" name="timestamp" id="timestamp" placeholder="Date" hidden>
                                 </div>
                             </div>

                            
                           </div>
                        </div>
                        <div class="col-lg-6" style=" border-left: 1px solid #ccc;">
                           <div class="card-body">
                              <ul class="nav nav-tabs nav-tabs-bottom">
                                 <li class="nav-item"><a class="nav-link active" href="#bottom-tab1"
                                       data-bs-toggle="tab">Other Details</a></li>
                                 <li class="nav-item"><a class="nav-link" href="#bottom-tab2"
                                       data-bs-toggle="tab">Address</a></li>
                                 <li class="nav-item"><a class="nav-link" href="#bottom-tab3" data-bs-toggle="tab">Bank
                                       Details</a></li>
                              </ul>

                           
                              <div class="tab-content">
                                 <div class="tab-pane show active" id="bottom-tab1">
                                    <div class="row">

                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">GST Treatment:</label>
                                          <div class="col-lg-9">
                                             <select class="form-control " name="gst_treatment">
                                                <option value="">Select GST Treatment</option>
                                                <option value="Unregistered Business">Unregistered Business</option>
                                                <option value="Regular">Regular</option>
                                             </select>
                                          </div>
                                       </div>

                                       <div class="form-group row ">
                                          <label class="col-lg-3 col-form-label">GST No.<span
                                             style="color: red;">*</span></label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="gst_number" id="gst_no_input"
                                                placeholder="GST No." required>
                                             <span id="gstError" style="color: red;"></span>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">State</label>
                                          <div class="col-lg-9">
                                             <select class="form-control" name="state" id="state">
                                                <option value="">State/Province</option>
                                                <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands
                                                </option>
                                                <option value="Andhra Pradesh (Before Division)">Andhra Pradesh (Before
                                                   Division)</option>
                                                <option value="Andhra Pradesh (New)">Andhra Pradesh (New)</option>
                                                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                <option value="Assam">Assam</option>
                                                <option value="Bihar">Bihar</option>
                                                <option value="Chandigarh">Chandigarh</option>
                                                <option value="Chhattisgarh">Chhattisgarh</option>
                                                <option value="Dadra And Nagar Haveli And Daman And Diu">Dadra And Nagar
                                                   Haveli And Daman And Diu</option>
                                                <option value="Daman and Diu">Daman and Diu</option>
                                                <option value="Delhi">Delhi</option>
                                                <option value="Goa">Goa</option>
                                                <option value="Gujarat">Gujarat</option>
                                                <option value="Haryana">Haryana</option>
                                                <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                                <option value="Jharkhand">Jharkhand</option>
                                                <option value="Karnataka">Karnataka</option>
                                                <option value="Kerala">Kerala</option>
                                                <option value="Ladakh">Ladakh</option>
                                                <option value="Lakshadweep">Lakshadweep</option>
                                                <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                <option value="Maharashtra">Maharashtra</option>
                                                <option value="Manipur">Manipur</option>
                                                <option value="Meghalaya">Meghalaya</option>
                                                <option value="Mizoram">Mizoram</option>
                                                <option value="Nagaland">Nagaland</option>
                                                <option value="Odisha">Odisha</option>
                                                <option value="Other Territory">Other Territory</option>
                                                <option value="Puducherry">Puducherry</option>
                                                <option value="Punjab">Punjab</option>
                                                <option value="Rajasthan">Rajasthan</option>
                                                <option value="Sikkim">Sikkim</option>
                                                <option value="Tamil Nadu">Tamil Nadu</option>
                                                <option value="Telangana">Telangana</option>
                                                <option value="Tripura">Tripura</option>
                                                <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                <option value="Uttarakhand">Uttarakhand</option>
                                                <option value="West Bengal">West Bengal</option>
                                             </select>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Balance:</label>
                                          <div class="col-lg-9">
                                             <!-- <input type="number" class="form-control" name="balance" id="balance"
                                                placeholder="Balance" required min="0">
                                             <span id="balance" style="color: red;"></span> -->
                                             <input type="number" step="0.01"  class="form-control" name="balance" id="balance" placeholder="Balance" value="0.0"  title="Please enter a non-negative number."  max="1000000000">
                                             <span id="balanceError" style="color: red;"></span>

                                          </div>
                                       </div>




                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Discount:<span
                                                style="color: red;">*</span></label>
                                          <div class="col-lg-9">
                                             <!-- <input type="number" step="0.01"  class="form-control" name="discount" id="discount"
                                                placeholder="Discount in %" value="0.0"> -->
                                                <input type="number" class="form-control" step="1" min="0" max="100" name="discount" id="discount"
                                                placeholder="Discount in %" />

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Credit Limit:<span
                                                style="color: red;">*</span></label>
                                          <div class="col-lg-9">
                                             <input type="number" step="0.01"  class="form-control" name="credit_limit" id="credit_limit" value="0" placeholder="Credit Limit" required min="0">

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">PAN Number:
                                             </label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="pan_number" id="pan_number_input"
                                                placeholder="PAN Number" >
                                             <span id="panError" style="color: red;"></span>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Licence Number:<span
                                       style="color: red;">*</span> </label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="licence_no" id="licence_no_input"
                                                placeholder="licence Number" required >

                                          </div>
                                       </div>



                                    </div>
                                 </div>
                                 <div class="tab-pane" id="bottom-tab2">
                                    <div class="row">
                                       <p>
                                          <strong>Billing</strong>
                                       </p>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Company Name: <span
                                       style="color: red;">*</span></label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="attention" id="attention"
                                                placeholder="Company Name" required>
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Street: <span
                                       style="color: red;">*</span></label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="street" id="street"
                                                placeholder="street" required>
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">City: <span
                                       style="color: red;">*</span></label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="city" id="city"
                                                placeholder="city" required>
                                          </div>
                                       </div>

                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">State: <span
                                       style="color: red;">*</span></label>
                                          <div class="col-lg-9">
                                             <select class="form-control" name="com_state" id="com_state" required>
                                                <option value="">State/Province</option>
                                                <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands
                                                </option>
                                                <option value="Andhra Pradesh (Before Division)">Andhra Pradesh (Before
                                                   Division)</option>
                                                <option value="Andhra Pradesh (New)">Andhra Pradesh (New)</option>
                                                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                <option value="Assam">Assam</option>
                                                <option value="Bihar">Bihar</option>
                                                <option value="Chandigarh">Chandigarh</option>
                                                <option value="Chhattisgarh">Chhattisgarh</option>
                                                <option value="Dadra And Nagar Haveli And Daman And Diu">Dadra And Nagar
                                                   Haveli And Daman And Diu</option>
                                                <option value="Daman and Diu">Daman and Diu</option>
                                                <option value="Delhi">Delhi</option>
                                                <option value="Goa">Goa</option>
                                                <option value="Gujarat">Gujarat</option>
                                                <option value="Haryana">Haryana</option>
                                                <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                                <option value="Jharkhand">Jharkhand</option>
                                                <option value="Karnataka">Karnataka</option>
                                                <option value="Kerala">Kerala</option>
                                                <option value="Ladakh">Ladakh</option>
                                                <option value="Lakshadweep">Lakshadweep</option>
                                                <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                <option value="Maharashtra">Maharashtra</option>
                                                <option value="Manipur">Manipur</option>
                                                <option value="Meghalaya">Meghalaya</option>
                                                <option value="Mizoram">Mizoram</option>
                                                <option value="Nagaland">Nagaland</option>
                                                <option value="Odisha">Odisha</option>
                                                <option value="Other Territory">Other Territory</option>
                                                <option value="Puducherry">Puducherry</option>
                                                <option value="Punjab">Punjab</option>
                                                <option value="Rajasthan">Rajasthan</option>
                                                <option value="Sikkim">Sikkim</option>
                                                <option value="Tamil Nadu">Tamil Nadu</option>
                                                <option value="Telangana">Telangana</option>
                                                <option value="Tripura">Tripura</option>
                                                <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                <option value="Uttarakhand">Uttarakhand</option>
                                                <option value="West Bengal">West Bengal</option>
                                             </select>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Pincode: <span
                                       style="color: red;">*</span></label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="pincode" id="pincode" placeholder="PIN Code" oninput="validatePIN()" required>
                                             <span id="pincodeError" style="color: red;"></span>

                                             <!-- <input type="text" class="form-control" name="pincode" id="pincode"
                                                placeholder="pincode" pattern="\d{6}" title="Enter 6 digit number">
                                                <span id="pincodeError_4" style="color: red;"></span> -->

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">GST/UIN: <span
                                       style="color: red;">*</span></label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control gst-input" name="gst_uin"
                                                id="gst_uin" placeholder="gst_uin" required>
                                             <span class="error-message" id="gstError_1" style="color: red;"></span>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Contact Number: <span
                                       style="color: red;">*</span></label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="contact_number" id="contact_number" placeholder="Contact Number" onblur="validateContactNumber('contact_number', 'contactNumberError')" required>
                                             <span id="contactNumberError" style="color: red;"></span>

                                          </div>
                                       </div>



                                       <p>
                                          <strong> Shipping 1 </strong>
                                       </p>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Company Name</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_1_attention"
                                                id="shipping_1_attention" placeholder="Company Name">
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Street:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_1_street"
                                                id="shipping_1_street" placeholder="street">
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">City:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_1_city"
                                                id="shipping_1_city" placeholder="city">
                                          </div>
                                       </div>

                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">State:</label>
                                          <div class="col-lg-9">
                                             <select class="form-control" name="shipping_1_state" id="shipping_1_state">
                                                <option value="">State/Province</option>
                                                <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands
                                                </option>
                                                <option value="Andhra Pradesh (Before Division)">Andhra Pradesh (Before
                                                   Division)</option>
                                                <option value="Andhra Pradesh (New)">Andhra Pradesh (New)</option>
                                                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                <option value="Assam">Assam</option>
                                                <option value="Bihar">Bihar</option>
                                                <option value="Chandigarh">Chandigarh</option>
                                                <option value="Chhattisgarh">Chhattisgarh</option>
                                                <option value="Dadra And Nagar Haveli And Daman And Diu">Dadra And Nagar
                                                   Haveli And Daman And Diu</option>
                                                <option value="Daman and Diu">Daman and Diu</option>
                                                <option value="Delhi">Delhi</option>
                                                <option value="Goa">Goa</option>
                                                <option value="Gujarat">Gujarat</option>
                                                <option value="Haryana">Haryana</option>
                                                <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                                <option value="Jharkhand">Jharkhand</option>
                                                <option value="Karnataka">Karnataka</option>
                                                <option value="Kerala">Kerala</option>
                                                <option value="Ladakh">Ladakh</option>
                                                <option value="Lakshadweep">Lakshadweep</option>
                                                <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                <option value="Maharashtra" selected>Maharashtra</option>
                                                <option value="Manipur">Manipur</option>
                                                <option value="Meghalaya">Meghalaya</option>
                                                <option value="Mizoram">Mizoram</option>
                                                <option value="Nagaland">Nagaland</option>
                                                <option value="Odisha">Odisha</option>
                                                <option value="Other Territory">Other Territory</option>
                                                <option value="Puducherry">Puducherry</option>
                                                <option value="Punjab">Punjab</option>
                                                <option value="Rajasthan">Rajasthan</option>
                                                <option value="Sikkim">Sikkim</option>
                                                <option value="Tamil Nadu">Tamil Nadu</option>
                                                <option value="Telangana">Telangana</option>
                                                <option value="Tripura">Tripura</option>
                                                <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                <option value="Uttarakhand">Uttarakhand</option>
                                                <option value="West Bengal">West Bengal</option>
                                             </select>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Pincode:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_1_pincode"
                                                id="pincode_input_1" placeholder="pincode" pattern="\d{6}" title="Enter 6 digits number">
                                                <span id="pincodeError_1" style="color: red;"></span>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">GST/UIN:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control gst-input" name="shipping_1_gst_uin"
                                                id="shipping_1_gst_uin" placeholder="gst_uin">
                                             <span class="error-message" id="gstError_shipping"></span>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Contact Number:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_1_contact_number" id="shipping_1_contact_number" placeholder="Contact Number" onblur="validateContactNumber('shipping_1_contact_number', 'shipping1ContactNumberError')">
                                             <span id="shipping1ContactNumberError" style="color: red;"></span>
                                             <!-- <input type="text" class="form-control" name="shipping_1_contact_number"
                                                id="shipping_1_contact_number" placeholder="contact_number"  pattern="\d{10}" title="Enter 10-digit number" > -->
                                          </div>
                                       </div>

                                       <p> <strong> Shipping 2 </strong></p>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Company Name</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_2_attention"
                                                id="shipping_2_attention" placeholder="Company Name">
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Street:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_2_street"
                                                id="shipping_2_street" placeholder="street">
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">City:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_2_city"
                                                id="shipping_2_city" placeholder="city">
                                          </div>
                                       </div>

                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">State:</label>
                                          <div class="col-lg-9">
                                             <select class="form-control" name="shipping_2_state" id="shipping_2_state">
                                                <option value="">State/Province</option>
                                                <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands
                                                </option>
                                                <option value="Andhra Pradesh (Before Division)">Andhra Pradesh (Before
                                                   Division)</option>
                                                <option value="Andhra Pradesh (New)">Andhra Pradesh (New)</option>
                                                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                <option value="Assam">Assam</option>
                                                <option value="Bihar">Bihar</option>
                                                <option value="Chandigarh">Chandigarh</option>
                                                <option value="Chhattisgarh">Chhattisgarh</option>
                                                <option value="Dadra And Nagar Haveli And Daman And Diu">Dadra And Nagar
                                                   Haveli And Daman And Diu</option>
                                                <option value="Daman and Diu">Daman and Diu</option>
                                                <option value="Delhi">Delhi</option>
                                                <option value="Goa">Goa</option>
                                                <option value="Gujarat">Gujarat</option>
                                                <option value="Haryana">Haryana</option>
                                                <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                                <option value="Jharkhand">Jharkhand</option>
                                                <option value="Karnataka">Karnataka</option>
                                                <option value="Kerala">Kerala</option>
                                                <option value="Ladakh">Ladakh</option>
                                                <option value="Lakshadweep">Lakshadweep</option>
                                                <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                <option value="Maharashtra" selected>Maharashtra</option>
                                                <option value="Manipur">Manipur</option>
                                                <option value="Meghalaya">Meghalaya</option>
                                                <option value="Mizoram">Mizoram</option>
                                                <option value="Nagaland">Nagaland</option>
                                                <option value="Odisha">Odisha</option>
                                                <option value="Other Territory">Other Territory</option>
                                                <option value="Puducherry">Puducherry</option>
                                                <option value="Punjab">Punjab</option>
                                                <option value="Rajasthan">Rajasthan</option>
                                                <option value="Sikkim">Sikkim</option>
                                                <option value="Tamil Nadu">Tamil Nadu</option>
                                                <option value="Telangana">Telangana</option>
                                                <option value="Tripura">Tripura</option>
                                                <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                <option value="Uttarakhand">Uttarakhand</option>
                                                <option value="West Bengal">West Bengal</option>
                                             </select>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Pincode:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_2_pincode"
                                                id="pincode_input_2" placeholder="pincode" pattern="\d{6}" title="Enter 6 digits number">
                                                <span id="pincodeError_2" style="color: red;"></span>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">GST/UIN:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control gst-input" name="shipping_2_gst_uin"
                                                id="shipping_2_gst_uin" placeholder="gst_uin">
                                             <span class="error-message" id="gstError_shipping"></span>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Contact Number:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_2_contact_number" id="shipping_2_contact_number" placeholder="Contact Number" onblur="validateContactNumber('shipping_2_contact_number', 'shipping2ContactNumberError')">
                                             <span id="shipping2ContactNumberError" style="color: red;"></span>
                                         

                                          </div>
                                       </div>





                                       <p><strong> Shipping 3 </strong></p>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Company Name</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_3_attention"
                                                id="shipping_3_attention" placeholder="Company Name">
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Street:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_3_street"
                                                id="shipping_3_street" placeholder="shipping_3_street">
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">City:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_3_city"
                                                id="shipping_3_city" placeholder="city">
                                          </div>
                                       </div>

                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">State:</label>
                                          <div class="col-lg-9">
                                             <select class="form-control" name="shipping_3_state" id="shipping_3_state">
                                                <option value="">State/Province</option>
                                                <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands
                                                </option>
                                                <option value="Andhra Pradesh (Before Division)">Andhra Pradesh (Before
                                                   Division)</option>
                                                <option value="Andhra Pradesh (New)">Andhra Pradesh (New)</option>
                                                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                <option value="Assam">Assam</option>
                                                <option value="Bihar">Bihar</option>
                                                <option value="Chandigarh">Chandigarh</option>
                                                <option value="Chhattisgarh">Chhattisgarh</option>
                                                <option value="Dadra And Nagar Haveli And Daman And Diu">Dadra And Nagar
                                                   Haveli And Daman And Diu</option>
                                                <option value="Daman and Diu">Daman and Diu</option>
                                                <option value="Delhi">Delhi</option>
                                                <option value="Goa">Goa</option>
                                                <option value="Gujarat">Gujarat</option>
                                                <option value="Haryana">Haryana</option>
                                                <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                                <option value="Jharkhand">Jharkhand</option>
                                                <option value="Karnataka">Karnataka</option>
                                                <option value="Kerala">Kerala</option>
                                                <option value="Ladakh">Ladakh</option>
                                                <option value="Lakshadweep">Lakshadweep</option>
                                                <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                <option value="Maharashtra" selected>Maharashtra</option>
                                                <option value="Manipur">Manipur</option>
                                                <option value="Meghalaya">Meghalaya</option>
                                                <option value="Mizoram">Mizoram</option>
                                                <option value="Nagaland">Nagaland</option>
                                                <option value="Odisha">Odisha</option>
                                                <option value="Other Territory">Other Territory</option>
                                                <option value="Puducherry">Puducherry</option>
                                                <option value="Punjab">Punjab</option>
                                                <option value="Rajasthan">Rajasthan</option>
                                                <option value="Sikkim">Sikkim</option>
                                                <option value="Tamil Nadu">Tamil Nadu</option>
                                                <option value="Telangana">Telangana</option>
                                                <option value="Tripura">Tripura</option>
                                                <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                <option value="Uttarakhand">Uttarakhand</option>
                                                <option value="West Bengal">West Bengal</option>
                                             </select>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Pincode:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_3_pincode"
                                             id="pincode_input_3" placeholder="pincode" pattern="\d{6}" title="Enter 6 digit number">
                                             <span id="pincodeError_3" style="color: red;"></span>                                        
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">GST/UIN:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control gst-input" name="shipping_3_gst_uin"
                                                id="shipping_3_gst_uin" placeholder="gst_uin">
                                             <span class="error-message" id="gstError_shipping"></span>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Contact Number:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_3_contact_number" id="shipping_3_contact_number" placeholder="Contact Number" onblur="validateContactNumber('shipping_3_contact_number', 'shipping3ContactNumberError')">
                                             <span id="shipping3ContactNumberError" style="color: red;"></span>
                                         
                                             <!-- <input type="text" class="form-control" name="shipping_3_contact_number"
                                                id="shipping_3_contact_number" placeholder="contact_number"  pattern="\d{10}" title="Enter a 10-digit number"> -->
                                          </div>
                                       </div>

                                       <p><strong> Shipping 4 </strong></p>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Company Name</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_4_attention"
                                                id="shipping_4_attention" placeholder="Company Name">
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Street:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_4_street"
                                                id="shipping_4_street" placeholder="street">
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">City:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_4_city"
                                                id="shipping_4_city" placeholder="city">
                                          </div>
                                       </div>

                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">State:</label>
                                          <div class="col-lg-9">
                                             <select class="form-control" name="shipping_4_state" id="shipping_4_state">
                                                <option value="">State/Province</option>
                                                <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands
                                                </option>
                                                <option value="Andhra Pradesh (Before Division)">Andhra Pradesh (Before
                                                   Division)</option>
                                                <option value="Andhra Pradesh (New)">Andhra Pradesh (New)</option>
                                                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                <option value="Assam">Assam</option>
                                                <option value="Bihar">Bihar</option>
                                                <option value="Chandigarh">Chandigarh</option>
                                                <option value="Chhattisgarh">Chhattisgarh</option>
                                                <option value="Dadra And Nagar Haveli And Daman And Diu">Dadra And Nagar
                                                   Haveli And Daman And Diu</option>
                                                <option value="Daman and Diu">Daman and Diu</option>
                                                <option value="Delhi">Delhi</option>
                                                <option value="Goa">Goa</option>
                                                <option value="Gujarat">Gujarat</option>
                                                <option value="Haryana">Haryana</option>
                                                <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                                <option value="Jharkhand">Jharkhand</option>
                                                <option value="Karnataka">Karnataka</option>
                                                <option value="Kerala">Kerala</option>
                                                <option value="Ladakh">Ladakh</option>
                                                <option value="Lakshadweep">Lakshadweep</option>
                                                <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                <option value="Maharashtra">Maharashtra</option>
                                                <option value="Manipur">Manipur</option>
                                                <option value="Meghalaya">Meghalaya</option>
                                                <option value="Mizoram">Mizoram</option>
                                                <option value="Nagaland">Nagaland</option>
                                                <option value="Odisha">Odisha</option>
                                                <option value="Other Territory">Other Territory</option>
                                                <option value="Puducherry">Puducherry</option>
                                                <option value="Punjab">Punjab</option>
                                                <option value="Rajasthan">Rajasthan</option>
                                                <option value="Sikkim">Sikkim</option>
                                                <option value="Tamil Nadu">Tamil Nadu</option>
                                                <option value="Telangana">Telangana</option>
                                                <option value="Tripura">Tripura</option>
                                                <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                <option value="Uttarakhand">Uttarakhand</option>
                                                <option value="West Bengal">West Bengal</option>
                                             </select>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Pincode:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_4_pincode"
                                                id="pincode_input_4" placeholder="pincode" pattern="\d{6}" title="Enter 6 digit number">
                                                <span id="pincodeError_4" style="color: red;"></span>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">GST/UIN:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control gst-input" name="shipping_4_gst_uin"
                                                id="shipping_4_gst_uin" placeholder="gst_uin">
                                             <span class="error-message" id="gstError_shipping"></span>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Contact Number:</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="shipping_4_contact_number" id="shipping_4_contact_number" placeholder="Contact Number" onblur="validateContactNumber('shipping_4_contact_number', 'shipping4ContactNumberError')">
                                             <span id="shipping4ContactNumberError" style="color: red;"></span>
                                             <!-- <input type="text" class="form-control" name="shipping_4_contact_number"
                                                id="shipping_4_contact_number" placeholder="contact_number"  pattern="\d{10}" title="Enter a 10-digit number"> -->
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="tab-pane" id="bottom-tab3">
                                    <div class="row">
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label"> Bank Name</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="bank_name" id="bank_name"
                                                placeholder="Bank Name" pattern="[A-Za-z ]+" title="Please enter only letters and spaces">
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Account No.</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="account_number" id="account_number_input" placeholder="Account Number">
                                             <span id="accountError" style="color: red;"></span>
                                         </div>
                                          <!-- <div class="col-lg-9">
                                             <input type="number" class="form-control" name="account_number" id="account_number_input" placeholder="Account Number" max="12">
                                             <span id="accountError" style="color: red;"></span>
                                          </div> -->
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Branch Name</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="branch_name" id="branch_name"
                                                placeholder="Branch Name">
                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">IFSC Code</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="ifsc_code"
                                                id="ifsc_code_input" placeholder="IFSC Code"
                                                pattern="[A-Za-z]{4}0[A-Za-z0-9]{6}"
                                                title="Please enter a valid 11-character IFSC code">
                                             <span id="ifscError" style="color: red;"></span>

                                          </div>
                                       </div>
                                       <div class="form-group row">
                                          <label class="col-lg-3 col-form-label">Banking Address</label>
                                          <div class="col-lg-9">
                                             <input type="text" class="form-control" name="banking_address"
                                                placeholder="Banking Address">

                                          </div>
                                       </div>


                                    </div>
                                 </div>
                              </div>
                           </div>

                        </div>
                        {% if error_message %}
                        <script>
                           alert("{{ error_message }}");
                        </script>
                        {% endif %}

                        <div class="add-customer-btns text-end">

                           <a href="{% url 'fn_customer_List_View' %}"
                              class="btn customer-btn-cancel btn-outline-danger me-1 btn-rounded">Cancel</a>
                           <button type="submit" class="btn btn-outline-primary me-1 btn-rounded">Save Customer</button>
                           <button type="reset" class="btn btn-outline-secondary me-1 btn-rounded">Reset</button>

                        </div>
                        <div class="row col-sm-6 p-5">
                           <div class="success_message row"></div>
                        </div>

                        <br>
               </div>
      </form>
   </div>
</div>
</div>
</div>
</div>
</div>
{% block custom_js %}

<!-- Include Toastr CSS and JS files in your HTML -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

<script>
  $(document).ready(function () {
    let emailError = false;
    let gstError = false;

    // Email validation
    $("#id_email").keyup(function () {
      var email = $(this).val();

      if (email != "") {
        $.ajax({
          url: "{% url 'check_email_exist' %}",
          type: 'POST',
          data: { email: email }
        })
        .done(function (response) {
          console.log(response);
          if (response == "True") {
            $(".email_error").remove();
            $("<span class='email_error' style='padding: 5px;color: red;'>Email Already Exists</span>").insertAfter("#id_email");
            emailError = true;
          } else {
            $(".email_error").remove();
            $("<span class='email_error' style='padding: 5px;color: green;'>Email Available</span>").insertAfter("#id_email");
            emailError = false;
          }
        })
        .fail(function () {
          console.log("failed");
        });
      } else {
        $(".email_error").remove();
      }
    });

    const emailInput = document.getElementById('id_email');
    const emailErrorMessage = document.getElementById('email-error-message');

    emailInput.addEventListener('input', function () {
      const email = emailInput.value.trim();
      const emailRegex = /^[a-zA-Z0-9._%+-]+@(gmail|olatechs)\.com$/;
      if (!emailRegex.test(email)) {
        emailErrorMessage.style.display = 'block';
        emailError = true;
      } else {
        emailErrorMessage.style.display = 'none';
        emailError = false;
      }
    });

    // GST validation
    $("#gst_no_input").keyup(function () {
      var gstNumber = $(this).val();

      if (gstNumber != "") {
        if (!validateGSTNo(gstNumber)) {
          $("#gstError").text("Enter a valid GST number (e.g., 12ABCDE1234F1Z5).").css("color", "red").show();
          gstError = true;
        } else {
          $.ajax({
            url: "{% url 'check_gst_exist' %}",
            type: 'POST',
            data: {
              gst_number: gstNumber,
              csrfmiddlewaretoken: '{{ csrf_token }}'
            }
          })
          .done(function (response) {
            console.log(response);
            if (response == "True") {
              $("#gstError").text("GST Number Already Exists").css("color", "red").show();
              gstError = true;
            } else {
              $("#gstError").text("GST Number Available").css("color", "green").show();
              gstError = false;
            }
          })
          .fail(function () {
            console.log("failed");
          });
        }
      } else {
        $("#gstError").hide();
      }
    });

    const gstNoInput = document.getElementById("gst_no_input");
    const gstErrorElement = document.getElementById("gstError");

    function validateGSTNo(gstNoValue) {
      if (gstNoValue.trim() === '') {
        return true;  // Allow empty value
      }

      const gstNoRegex = /^([0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}[Z]{1}[0-9A-Z]{1})$/;
      return gstNoRegex.test(gstNoValue);
    }

    gstNoInput.addEventListener("input", function () {
      const gstNoValue = this.value;

      if (!validateGSTNo(gstNoValue)) {
        gstErrorElement.textContent = "Enter a valid GST number (e.g., 12ABCDE1234F1Z5).";
        gstErrorElement.style.color = "red";
        gstError = true;
      } else {
        gstErrorElement.textContent = "";
        gstError = false;
      }
    });

    // Form submission
    $("form").submit(function (event) {
      if (emailError || gstError) {
        event.preventDefault();
        toastr.clear();  // Clear any existing Toastr messages
        if (emailError && gstError) {
          toastr.error("Please correct Email and GST Number before submitting the form.");
        } else if (emailError) {
          toastr.error("Please correct the Email before submitting the form.");
        } else if (gstError) {
          toastr.error("Please correct the GST Number before submitting the form.");
        }
      }
    });
  });
</script>


<script>
   document.addEventListener("DOMContentLoaded", function () {
      const panInput = document.getElementById("pan_number_input");
      const panError = document.getElementById("panError");

      // Function to validate a PAN number
      function validatePAN(pan) {
         // ... your existing validation logic
      }

      panInput.addEventListener("input", function () {
         const panValue = this.value.trim().toUpperCase(); // Remove whitespace and convert to uppercase
         if (!validatePAN(panValue)) {
            panError.textContent = 'Enter a valid PAN number (e.g., ABCDE1234F).';
         } else {
            panError.textContent = '';
         }
      });
   });

</script>


<script>
   document.addEventListener("DOMContentLoaded", function () {
      const mobileInput = document.getElementById("phone");
      const mobileError = document.getElementById("phoneError");

      mobileInput.addEventListener("input", function () {
         const mobileValue = this.value;
         const mobileRegex = /^[0-9]{10}$/; // Regular expression for a 10-digit mobile number

         if (!mobileRegex.test(mobileValue)) {
            mobileError.textContent = "Enter a valid 10-digit phone number.";
         } else {
            mobileError.textContent = "";
         }
      });
   });

</script>
<!-- For Mobile Number -->
<script>
   document.addEventListener("DOMContentLoaded", function () {
      const mobileInput = document.getElementById("mob_no");
      const mobileError = document.getElementById("mobileError");

      mobileInput.addEventListener("input", function () {
         const mobileValue = this.value;
         const mobileRegex = /^[0-9]{10}$/; // Regular expression for a 10-digit mobile number

         if (!mobileRegex.test(mobileValue)) {
            mobileError.textContent = "Enter a valid 10-digit mobile number.";
         } else {
            mobileError.textContent = "";
         }
      });
   });

</script>
<!-- For Pan Number -->
<script>
   document.addEventListener("DOMContentLoaded", function () {
      const panInput = document.getElementById("pan_number_input");
      const panError = document.getElementById("panError");

      function validatePAN(pan) {
         if (pan.trim() === '') {
            return true;  // Allow empty value
         }

         const panRegex = /^[A-Z]{5}[0-9]{4}[A-Z]$/; // Regular expression for PAN
         return panRegex.test(pan);
      }

      panInput.addEventListener("input", function () {
         const panValue = this.value.trim().toUpperCase(); // Remove whitespace and convert to uppercase
         if (!validatePAN(panValue)) {
            panError.textContent = 'Enter a valid PAN number (e.g., ABCDE1234F).';
         } else {
            panError.textContent = '';
         }
      });
   });

</script>
<!-- For IFSC Code -->
<script>
   document.addEventListener("DOMContentLoaded", function () {
      const ifscInput = document.getElementById("ifsc_code_input");
      const ifscError = document.getElementById("ifscError");

      function validateIFSC(ifsc) {
         if (ifsc.trim() === '') {
            return true;  // Empty value is allowed
         }

         const ifscRegex = /^[A-Za-z]{4}[0-9]{7}$/; // Regular expression for IFSC
         return ifscRegex.test(ifsc);
      }

      ifscInput.addEventListener("input", function () {
         const ifscValue = this.value.trim().toUpperCase(); // Remove whitespace and convert to uppercase
         if (!validateIFSC(ifscValue)) {
            ifscError.textContent = 'Enter a valid IFSC code (e.g., ABCD0123456).';
         } else {
            ifscError.textContent = '';
         }
      });
   });

</script>
<!-- For Account Number -->
<script>
   document.addEventListener("DOMContentLoaded", function () {
      const accountInput = document.getElementById("account_number_input");
      const accountError = document.getElementById("accountError");

      accountInput.addEventListener("input", function () {
         const accountValue = this.value.trim();

         // Basic length-based validation (adjust the length as per your requirement)
         const minLength = 6;
         const maxLength = 20;

         if (accountValue.length < minLength || accountValue.length > maxLength) {
            accountError.textContent = `Account number should be between ${minLength} and ${maxLength} characters.`;
         } else {
            accountError.textContent = '';
         }
      });
   });

</script>

<!-- For Pin Code -->
<script>
   document.addEventListener("DOMContentLoaded", function () {
      const pincodeInputs = document.querySelectorAll('input[name^="pincode"], input[name^="shipping_"]');
      pincodeInputs.forEach(function (input) {
         input.addEventListener("input", function () {
            const pincodeValue = this.value.trim();
            const pincodeErrorId = "pincodeError_" + this.id.split("_").pop(); // Get the unique error span ID

            const pincodeError = document.getElementById(pincodeErrorId);

            // Regular expression for a standard 6-digit pin code
            const pincodeRegex = /^[1-9][0-9]{5}$/;

            if (pincodeError) {
               if (!pincodeRegex.test(pincodeValue)) {
                  pincodeError.textContent = "Enter a valid 6-digit pin code.";
               } else {
                  pincodeError.textContent = "";
               }
            }
         });
      });
   });


</script>

<!-- To Disply name -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script>
   // Get references to the dropdown and input fields
   var scustomer = document.getElementById("first_name");
   var fromInput = document.getElementById("display_name_input");

   // Add an event listener to the dropdown to update the input field when it changes
   scustomer.addEventListener("change", function () {
      var selectedcustomer = scustomer.value;
      fromInput.value = selectedcustomer;
   });
</script>


<script>
   document.addEventListener("DOMContentLoaded", function () {
      const pincodeInput = document.getElementById("pincode_input_1");
      const pincodeError = document.getElementById("pincodeError_1");

      pincodeInput.addEventListener("input", function () {
         const pincodeValue = this.value.trim();

         // Regular expression for a standard 6-digit pin code in India
         const pincodeRegex = /^[1-9][0-9]{5}$/;

         if (!pincodeRegex.test(pincodeValue)) {
            pincodeError.textContent = "Enter a valid 6-digit pin code.";
         } else {
            pincodeError.textContent = "";
         }
      });
   });

</script>

<script>
   document.addEventListener("DOMContentLoaded", function () {
      const pincodeInput = document.getElementById("pincode_input_4");
      const pincodeError = document.getElementById("pincodeError_4");

      pincodeInput.addEventListener("input", function () {
         const pincodeValue = this.value.trim();

         // Regular expression for a standard 6-digit pin code in India
         const pincodeRegex = /^[1-9][0-9]{5}$/;

         if (!pincodeRegex.test(pincodeValue)) {
            pincodeError.textContent = "Enter a valid 6-digit pin code.";
         } else {
            pincodeError.textContent = "";
         }
      });
   });

</script>

<script>
  function validateEmail(emailField) {
    var reg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
    const emailError = document.getElementById("email-error-message");

    if (reg.test(emailField.value)) {
        console.log('ddd');
        emailError.textContent = ''
        return true;

    }
    const allowedValues = ['na', 'NA', 'nan', 'NaN'];
    if (allowedValues.includes(emailField.value)) {
        console.log('dddsss');
        emailError.textContent = ''
        return true;
    }
    emailField.value = ''
    emailError.textContent = "please enter valid email or 'na'"
    return false;
}
</script>


<!-- For Gst Validation -->

<script>
   document.addEventListener("DOMContentLoaded", function () {
      const gstInputs = document.querySelectorAll('.gst-input');

      gstInputs.forEach(function (gstInput) {
         gstInput.addEventListener("input", function () {
            const gstNoValue = this.value.trim();
            const errorSpan = this.parentNode.querySelector('.error-message');

            if (gstNoValue === '') {
               errorSpan.textContent = ""; // No error message for empty input
            } else {
               const gstNoRegex = /^([0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}[Z]{1}[0-9A-Z]{1})$/;
               if (!gstNoRegex.test(gstNoValue)) {
                  errorSpan.textContent = "Enter a valid GST number (e.g., 12ABCDE1234F1Z5).";
               } else {
                  errorSpan.textContent = "";
               }
            }
         });
      });
   });
</script>

<script>
   document.addEventListener("DOMContentLoaded", function () {
      const contactNumberInputs = document.querySelectorAll('input[name^="contact_number"], input[name^="shipping_"]');

      contactNumberInputs.forEach(function (input) {
         input.addEventListener("input", function () {
            const contactNumberValue = this.value.trim();
            const contactNumberErrorId = "contactNumberError_" + this.id.split("_").pop(); // Get the unique error span ID

            const contactNumberError = document.getElementById(contactNumberErrorId);

            // Regular expression for Indian mobile numbers (10 digits starting with 6, 7, 8, or 9)
            const contactNumberRegex = /^[6-9]\d{9}$/;

            if (contactNumberError) {
               if (!contactNumberRegex.test(contactNumberValue)) {
                  contactNumberError.textContent = "Enter a valid Indian mobile number.";
               } else {
                  contactNumberError.textContent = "";
               }
            }
         });
      });
   });

</script>

<script>
   function validatePIN() {
       var pincodeInput = document.getElementById('pincode');
       var pincodeError = document.getElementById('pincodeError');
       
       // Regular expression for a 6-digit PIN code
       var pincodeRegex = /^\d{6}$/;

       if (pincodeRegex.test(pincodeInput.value)) {
           // PIN code is valid
           pincodeError.textContent = '';
       } else {
           // PIN code is invalid
           pincodeError.textContent = 'Please enter a valid 6-digit PIN code.';
       }
   }
</script>

<script>
   function validateContactNumber(inputId, errorId) {
       var contactNumber = document.getElementById(inputId).value;
       var regex = /^[0-9]{10}$/; // Assumes a 10-digit contact number

       if (!regex.test(contactNumber)) {
           document.getElementById(errorId).innerHTML = "Invalid contact number. Please enter a 10-digit number.";
       } else {
           document.getElementById(errorId).innerHTML = "";
       }
   }
</script>

<script>
   function validateForm() {
      var bankName = document.getElementById("bank_name").value;
      var accountNumber = document.getElementById("account_number").value;
      var ifscCode = document.getElementById("ifsc_code_input").value;

      if (bankName.trim() !== "" && accountNumber.trim() !== "") {
         if (ifscCode.trim() === "") {
            // IFSC code is mandatory, show error message
            document.getElementById("ifscError").innerText = "IFSC code is mandatory";
            return;
         }
      }

      // Clear any previous error messages
      document.getElementById("ifscError").innerText = "";

      // // If the validation passes, submit the form
      // document.getElementById("customerForm").submit();
   }
</script>



<script>
   function populateCustomerFields() {
       var selectedLead = document.getElementById('lead_select').selectedOptions[0];
       document.getElementById('first_name').value = selectedLead.getAttribute('data-company');
       document.getElementById('contact_person').value = selectedLead.getAttribute('data-contact');
       document.getElementById('id_email').value = selectedLead.getAttribute('data-email');
       $("#id_email").keyup();
       
      //  document.getElementById('mob_no').value = selectedLead.getAttribute('data-mobile');
       document.getElementById('phone').value = selectedLead.getAttribute('data-mobile');
       var selectedValue = selectedLead.getAttribute('data-service_type'); // Assuming selectedLead has the data attribute 'data-service-type'
       document.getElementById('website').value = selectedLead.getAttribute('data-website');
       document.getElementById('display_name_input').value = selectedLead.getAttribute('data-company');
       document.getElementById('gst_no_input').value = selectedLead.getAttribute('data-gst');
       

   }
   </script>

{% endblock custom_js %}
{% endblock main_content %}